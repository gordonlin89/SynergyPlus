{% extends "base.html" %}

{% block sidebar %}
<script>
	$(function() {
		$("form").submit(function(event) {
			event.preventDefault();
			var formData = new FormData(this);
			try {
				$('#power-chart').highcharts().showLoading();
			} catch(e) {}
			$.ajax({
				url: "http://localhost:8080/test",
				data: formData,
				processData: false,
				contentType: false,
				method: "POST",
				success: function(data) {
					//$('#power-section').show();
					try {
						$('#power-chart').highcharts().destroy();
					} catch(e) {}
					$('#power-chart').highcharts(data);
				}
			});
		});
	});
</script>

<form action="/FooBuilding/predict" method="get">
	<div class="form-group">
		<label>Start Date</label>
		<input type="text" class="form-control" name="start_date" placeholder="mm/dd/yyyy">
	</div>
	<div class="form-group">
		<label>End Date</label>
		<input type="text" class="form-control" name="end_date" placeholder="mm/dd/yyyy">
	</div>
	<div class="form-group">
		<label>Temperature (Â°F)</label>
		<input type="text" class="form-control spinner" name="temperature" value="65">
	</div>
	<button type="submit" class="btn btn-default">Predict</button>
</form>
{% endblock %}

{% block main %}
<script type="text/javascript">
	$(function() {
		//$("#power-section").hide();
		//$('#power-chart').highcharts({{power}});
	});
</script>

<div id="power-section" class="panel panel-default">
	<div class="panel-heading"><h3 class="panel-title">Power Comparison</h3></div>
	<div class="panel-body text-center">
		<div id="power-chart">
			<p>No prediction executed.</p>
		</div>
	</div>
</div>
{% endblock %}
